!function(){"use strict";function t(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=e.length,o={},s=0;s<i;++s){var a=e[s];o[a.toUpperCase()]=a}return o}function e(t,e){for(var n=[],i=Object.keys(e),o=i.length,s=0;s<o;++s){var a=i[s];n.push(a+":"+e[a]+";")}t.style.cssText=n.join("")}function n(t,e){return new RegExp("^"+t+"$|^"+t+"\\s|\\s"+t+"\\s|\\s"+t+"$",e)}function i(t,e){o(t,e)||(t.className+=" "+e)}function o(t,e){return n(e).test(t.className)}function s(t,e){if(o(t,e)){var i=n(e,"g");t.className=t.className.replace(i," ").replace(u," ")}}function a(t,e){for(var n=Object.keys(t),i=n.length,o=0;o<i;++o){var s=n[o];if(t[s]===e)return delete t[s]}return!1}function r(t,e,n,i){function s(){t.removeEventListener(e,h,r),a(this,s)}var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=void 0===n?"undefined":p(n);"function"===l&&(r=!!i,i=n);var h="string"===l?function(e){for(var s=e.target;!o(s,n)&&s!==t;)s=s.parentNode;if(s!==t)return i(e,s)}:i;return t.addEventListener(e,h,r),s}function l(t,e){return g[t]||(g[t]=new x(t,e),E[t]=0),E[t]++,g[t]}function h(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}var c=".a-stroke {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 1px;\n  display: block;\n  width: 0;\n  height: 0;\n  background: #f07662;\n  transition: height 0.2s ease; }\n  .a-stroke.is-enter {\n    height: 4px; }\n  .a-stroke.is-move {\n    transition: all 0.2s ease; }\n\n.m-main-navigation {\n  display: block;\n  height: 75px;\n  border-bottom: 2px solid #e5e5e5; }\n\n.m-main-navigation__box {\n  width: 100%;\n  padding-right: 15px;\n  padding-left: 15px;\n  margin-right: auto;\n  margin-left: auto;\n  max-width: auto;\n  display: flex;\n  flex-wrap: wrap;\n  flex-wrap: nowrap;\n  align-items: center; }\n  @media (min-width: 576px) {\n    .m-main-navigation__box {\n      max-width: 540px; } }\n  @media (min-width: 768px) {\n    .m-main-navigation__box {\n      max-width: 720px; } }\n  @media (min-width: 992px) {\n    .m-main-navigation__box {\n      max-width: 960px; } }\n  @media (min-width: 1200px) {\n    .m-main-navigation__box {\n      max-width: 1140px; } }\n\n.m-main-navigation__logo {\n  max-width: 16.66667%;\n  flex: 0 0 16.66667%;\n  align-self: center; }\n  @media (min-width: 576px) {\n    .m-main-navigation__logo {\n      align-self: flex-start; } }\n\n.m-main-navigation__logo-link {\n  display: block;\n  width: 35px; }\n  @media (min-width: 576px) {\n    .m-main-navigation__logo-link {\n      width: 43px; } }\n  @media (min-width: 1200px) {\n    .m-main-navigation__logo-link {\n      width: 53px; } }\n\n.m-main-navigation__logo-img {\n  display: block;\n  width: 35px;\n  height: 35px; }\n  @media (min-width: 576px) {\n    .m-main-navigation__logo-img {\n      width: 43px;\n      height: 43px; } }\n  @media (min-width: 1200px) {\n    .m-main-navigation__logo-img {\n      width: 53px;\n      height: 53px; } }\n\n.m-main-navigation__nav {\n  display: block;\n  margin-left: auto; }\n\n.m-main-navigation__list {\n  padding: 0;\n  margin: 0;\n  list-style-type: none;\n  display: flex; }\n\n.m-main-navigation__list-item {\n  display: block;\n  float: left;\n  margin: 0 8px; }\n\n.m-main-navigation__list-link {\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 1.5;\n  letter-spacing: 0.02em;\n  /* Adds a hyphen where the word breaks, if supported (No Blink) */\n  hyphens: auto;\n  /* These are technically the same, but use both */\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  display: table-cell;\n  height: 75px;\n  padding: 0 10px;\n  text-align: center;\n  text-transform: uppercase;\n  vertical-align: middle; }\n  @media (min-width: 576px) {\n    .m-main-navigation__list-link {\n      font-size: 13px;\n      font-weight: 600;\n      line-height: 1.38;\n      letter-spacing: 0.02em; } }\n  @media (min-width: 768px) {\n    .m-main-navigation__list-link {\n      font-size: 13px;\n      font-weight: 600;\n      line-height: 1.38;\n      letter-spacing: 0.02em; } }\n  @media (min-width: 992px) {\n    .m-main-navigation__list-link {\n      font-size: 13px;\n      font-weight: 600;\n      line-height: 1.38;\n      letter-spacing: 0.02em; } }\n  .m-main-navigation__list-link:hover, .m-main-navigation__list-link:active, .m-main-navigation__list-link:focus {\n    text-decoration: none; }\n\n.m-main-navigation__form {\n  display: block;\n  padding: 6px 0 6px 20px;\n  margin-left: 20px;\n  border-left: 1px solid #ccc; }\n\n.m-main-navigation__search {\n  display: none; }\n\n.m-main-navigation__search-icon {\n  display: block;\n  width: 25px;\n  height: 25px;\n  fill: #7f7f7f; }\n",u=/^\s+|\s{2,}|\s+$/g,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=(function(){function t(t){this.value=t}function e(e){function n(o,s){try{var a=e[o](s),r=a.value;r instanceof t?Promise.resolve(r.value).then(function(t){n("next",t)},function(t){n("throw",t)}):i(a.done?"return":"normal",a.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":o.resolve({value:e,done:!0});break;case"throw":o.reject(e);break;default:o.resolve({value:e,done:!1})}(o=o.next)?n(o.key,o.arg):s=null}var o,s;this._invoke=function(t,e){return new Promise(function(i,a){var r={key:t,arg:e,resolve:i,reject:a,next:null};s?s=s.next=r:(o=s=r,n(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},v=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},y=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},_=t("UN_CLICK","UN_OUTER_CLICK","UN_CLOSE_CLICK","UN_CLOSE_ESCAPE","click","keyup","enter","move","leave"),g={},E={},x=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(this,t),this.rootNode=e,this.options=m({},t.DEFAULTS,n),this.handleClick=this.handleClick.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.receivers=[],this.init()}return f(t,[{key:"init",value:function(){this.list=this.rootNode.querySelector(this.options.list),this.on()}},{key:"on",value:function(){this.off(),this[_.UN_CLICK]=r(this.list,_.CLICK,this.options.listLink,this.handleClick)}},{key:"off",value:function(){_.UN_CLICK in this&&this[_.UN_CLICK](),this.offInteractive()}},{key:"onInteractive",value:function(){this.offInteractive(),this[_.UN_OUTER_CLICK]=function(t,e,n){function i(){r.removeEventListener(e,o,s),a(this,i)}function o(e){var i=e.target;if(!t.contains(i)&&t!==i)return n(e)}var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=t.ownerDocument.documentElement;return r.addEventListener(e,o,s),i}(this.list,_.CLICK,this.handleClose),this[_.UN_CLOSE_CLICK]=r(this.list,_.CLICK,this.options.closeButton,this.handleClose),this[_.UN_CLOSE_ESCAPE]=r(this.list.ownerDocument,_.KEYUP,this.handleKeyUp)}},{key:"offInteractive",value:function(){_.UN_OUTER_CLICK in this&&this[_.UN_OUTER_CLICK](),_.UN_CLOSE_CLICK in this&&this[_.UN_CLOSE_CLICK](),_.UN_CLOSE_ESCAPE in this&&this[_.UN_CLOSE_ESCAPE]()}},{key:"handleClick",value:function(t,e){t.preventDefault();var n=e.parentNode,i=!this.lastListItem,o=n!==this.lastListItem,s=!i&&!o;i?(this.notify(_.ENTER,n),this.onInteractive()):o&&this.notify(_.MOVE,n,this.lastListItem),this.lastListItem=n,s&&this.close()}},{key:"handleClose",value:function(t){t.preventDefault(),this.close()}},{key:"handleKeyUp",value:function(t){("key"in t?"Escape"===t.key||"Esc"===t.key:27===t.keyCode)&&(t.preventDefault(),this.close())}},{key:"close",value:function(){this.lastListItem&&(this.notify(_.LEAVE,this.lastListItem),this.offInteractive(),delete this.lastListItem)}},{key:"notify",value:function(t,e,n){for(var i=this.receivers.length,o=0;o<i;o++){var s=this.receivers[o];t in s&&"function"==typeof s.enter&&s[t](e,n)}}},{key:"register",value:function(t){function e(){var n=this.receivers.indexOf(t);-1!==n&&this.receivers.slice(n,1),a(t,e)}return this.receivers.push(t),e}},{key:"destroy",value:function(){this.rootNode&&this.rootNode in E&&(E[this.rootNode]--,E[this.rootNode]<=0&&(this.off(),delete g[this.rootNode],delete E[this.rootNode],delete this.rootNode,delete this.options,delete this.receivers))}}]),t}();x.DEFAULTS={list:".js-main-navigation__list",listLink:"js-main-navigation__list-link",closeButton:"js-sub-navigation__index-close"};var k=t("OBSERVER","OBSERVER_UN_REGISTER","stroke"),b=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(this,t),this.rootNode=e,this.options=m({},t.DEFAULTS,n),this.init()}return f(t,[{key:"init",value:function(){this.rootNode.style.position="relative",this.list=this.rootNode.querySelector(this.options.list),this[k.STROKE]=document.createElement("div"),this[k.STROKE].className=this.options.strokeClass,this.list.appendChild(this[k.STROKE]),this[k.OBSERVER]=l(this.rootNode),this.on()}},{key:"on",value:function(){this[k.OBSERVER_UN_REGISTER]=this[k.OBSERVER].register(this)}},{key:"off",value:function(){k.OBSERVER_UN_REGISTER in this&&this[k.OBSERVER_UN_REGISTER]()}},{key:"enter",value:function(t){i(this[k.STROKE],this.options.enterClass),e(this[k.STROKE],{width:t.offsetWidth+"px",left:t.offsetLeft+"px"})}},{key:"move",value:function(t){i(this[k.STROKE],this.options.moveClass),e(this[k.STROKE],{width:t.offsetWidth+"px",left:t.offsetLeft+"px"})}},{key:"leave",value:function(){s(this[k.STROKE],this.options.moveClass),s(this[k.STROKE],this.options.enterClass)}},{key:"destroy",value:function(){this.off(),k.OBSERVER in this&&(this[k.OBSERVER].destroy(),delete this[k.OBSERVER]),k.STROKE in this&&(this[k.STROKE].parentNode.removeChild(this[k.STROKE]),delete this[k.STROKE]),delete this.rootNode,delete this.options}}]),t}();b.DEFAULTS={strokeClass:"a-stroke",list:".js-main-navigation__list",enterClass:"is-enter",moveClass:"is-move"};var C=t("OBSERVER","OBSERVER_UN_REGISTER"),S=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(this,t),this.rootNode=e,this.options=m({},t.DEFAULTS,n),this.init()}return f(t,[{key:"init",value:function(){this.list=this.rootNode.querySelector(this.options.list),this[C.OBSERVER]=l(this.rootNode),this.on()}},{key:"on",value:function(){this[C.OBSERVER_UN_REGISTER]=this[C.OBSERVER].register(this)}},{key:"off",value:function(){C.OBSERVER_UN_REGISTER in this&&this[C.OBSERVER_UN_REGISTER]()}},{key:"enter",value:function(t){i(t,this.options.stateClass)}},{key:"move",value:function(t,e){s(e,this.options.stateClass),i(t,this.options.stateClass)}},{key:"leave",value:function(t){s(t,this.options.stateClass)}},{key:"destroy",value:function(){this.off(),C.OBSERVER in this&&(this[C.OBSERVER].destroy(),delete this[C.OBSERVER]),delete this.rootNode,delete this.options}}]),t}();S.DEFAULTS={list:".js-main-navigation__list",stateClass:"is-open"},Object.setPrototypeOf(h.prototype,HTMLElement.prototype),Object.setPrototypeOf(h,HTMLElement);var w=document._currentScript||document.currentScript,R={},O=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";d(this,e);var n=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n._initialise(t),n}return v(e,h),f(e,[{key:"_initialise",value:function(t){this.templateAttributes=[],this.templateAttributesName=[];for(var e=0,n=this.attributes,i=n.length;e<i;e++)this.templateAttributes.push(this.getAttribute(n[e].nodeName)),this.templateAttributesName.push(n[e].nodeName);this._styles=t;var o=void 0;if((o=window.HTMLImports?HTMLImports.importForElement(w):w.ownerDocument)&&(this.template=o.querySelector("template"),(!this.template||window.HTMLImports&&o!==HTMLImports.importForElement(this.template))&&(this.template=null),this.template)){var s=this.template.content;this.clone=document.importNode(s,!0)}}},{key:"connectedCallback",value:function(){this._appendStyles(),this.template&&this.clone&&this.appendChild(this.clone),this._render()}},{key:"_appendStyles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;if(this._styles){var e=document.createElement("style"),n=document.createTextNode(this._styles);e.appendChild(n),t.insertAdjacentElement?t.insertAdjacentElement("afterbegin",e):t.appendChild(e)}}},{key:"_render",value:function(){return null}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}}]),e}(),N=(function(t){function e(){return d(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}v(e,O),f(e,[{key:"connectedCallback",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"open",e=this.attachShadow({mode:t});this._appendStyles(e),this.template&&this.clone&&e.appendChild(this.clone),this._render()}}])}(),function(t){function e(){return d(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return v(e,O),f(e,[{key:"_appendStyles",value:function(){e.appendGlobalStyles(this._styles,this.nodeName)}}],[{key:"appendGlobalStyles",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.uuidv4();if(t&&!R[t]){var n=document.createElement("style"),i=document.createTextNode(t);n.appendChild(i),n.setAttribute("data-c-name",e.toLowerCase()),document.querySelector("head").appendChild(n),R[t]=!0}}}]),e}()),L=function(t){function e(){return d(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,c))}return v(e,N),f(e,[{key:"connectedCallback",value:function(){(function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this);var t=this.getAttribute("type"),n=document.createElement("div");for(n.className="m-main-navigation__box";this.childNodes.length;)n.appendChild(this.firstChild);this.className="m-main-navigation m-main-navigation--"+t,this.appendChild(n),this.stroke=new b(this),this.subNavigation=new S(this)}},{key:"disconnectedCallback",value:function(){this.stroke.destroy(),delete this.stroke,this.subNavigation.destroy(),delete this.subNavigation}}]),e}();window.customElements.define("axa-main-navigation",L)}();
