@import "./settings/main-navigation-mobile";
@import "../a-link/mixins/link";
@import "../../styles/mixins/button-reset";
@import "../../styles/settings/colors";
@import "../../styles/mixins/grid";
@import "../../styles/mixins/hardware-accelerate";
@import "../../styles/mixins/respond";
@import "../../styles/mixins/typo";
@import "../../styles/mixins/unstyle-list";
@import "../../styles/mixins/word-break";

.m-main-navigation-mobile {
  display: block;
}

.m-main-navigation-mobile__backdrop {
  position: fixed;
  top: -200%;
  left: -200%;
  z-index: $main-navigation-mobile__backdrop-z-index;

  display: block;
  height: 100%;
  width: 100%;

  background: $main-navigation-mobile__backdrop-bg;
  opacity: 0;

  transition: opacity 0.2s ease;

  .is-mobile-menu-open > & {
    top: 0;
    left: 0;

    opacity: 1;
  }

  &.is-mobile-backdrop-fading {
    top: 0;
    left: 0;
  }
}

.m-main-navigation-mobile__canvas {
  position: relative;

  display: block;
  width: 100%;
  overflow: hidden;

  background: $main-navigation-mobile-bg;

  @include respond-up(sm) {
    width: $main-navigation-mobile__canvas-width-sm;
  }
}

.m-main-navigation-mobile__canvas--off-canvas {
  @include hardware-accelerate();

  position: fixed;
  top: 75px;
  right: 0;
  bottom: 0;
  z-index: $main-navigation-mobile__nav-z-index;

  overflow-x: hidden;
  overflow-y: scroll;
  -webkit-overflow-scrolling: touch;

  transform: translateX(110%);
  transition: transform 0.2s ease;

  .is-mobile-menu-open > & {
    transform: translateX(0);
  }

  @include respond-up(lg) {
    display: none;
  }
}

body.is-body-frozen {
  overflow: hidden;
}

.m-main-navigation-mobile__box {
  > .m-button {
    display: block;
    margin: 20px $main-navigation-mobile__item-padding-right 0 $main-navigation-mobile__item-padding-left;

    text-align: center;

    + * {
      margin-top: 20px;
    }
  }
}

.m-main-navigation-mobile__nav {
  display: block;

  background: $color-prim-white;

  & & {
    @include hardware-accelerate();

    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    z-index: $main-navigation-mobile__nav-z-index;

    min-height: 100%;

    transform: translateX(110%);
    transition: transform 0.2s ease;

    @include respond-up(sm) {
      left: 10px;
      box-shadow: -5px 0 10px -5px rgba(0, 0, 0, 0.3);
    }
  }

  .is-mobile-sub-menu-open > & {
    transform: translateX(0);
  }
}

.m-main-navigation-mobile__list {
  @include unstyle-list();
}

.m-main-navigation-mobile__list-item {
  display: block;

  border-bottom: $main-navigation-mobile__list-item-border-width solid $main-navigation-mobile__list-item-border-color;

  &:first-child {
    border-top: $main-navigation-mobile__list-item-border-width solid $main-navigation-mobile__list-item-border-color;
  }
}

.m-main-navigation-mobile__category,
.m-main-navigation-mobile__back,
.m-main-navigation-mobile__list-link {
  @include make-container();
  @include word-break();
  @include link-color();

  position: relative;

  display: block;
  padding-left: $main-navigation-mobile__item-padding-left;
  padding-right: $main-navigation-mobile__item-padding-right;

  text-transform: uppercase;
}

.m-main-navigation-mobile__category,
.m-main-navigation-mobile__back {
  @include button-reset();

  background: transparent;
  text-align: left;
}

.m-main-navigation-mobile__category,
.m-main-navigation-mobile__list-link {
  @include typo-16--semibold();

  padding-top: $main-navigation-mobile__item-y-padding;
  padding-bottom: $main-navigation-mobile__item-y-padding;
}

.m-main-navigation-mobile__category {
  padding-right: $main-navigation-mobile__category-padding-right;
}

.m-main-navigation-mobile__back {
  @include typo-24();

  padding-top: $main-navigation-mobile__back-y-padding;
  padding-bottom: $main-navigation-mobile__back-y-padding;
  padding-left: $main-navigation-mobile__back-padding-left;
}

.m-main-navigation-mobile__list-link {
}

.m-main-navigation-mobile__icon-next,
.m-main-navigation-mobile__icon-back {
  position: absolute;
  top: 50%;

  height: $main-navigation-mobile__icon-size;
  width: $main-navigation-mobile__icon-size;
  margin-top: ($main-navigation-mobile__icon-size / -2);

  pointer-events: none;
  fill: currentColor;
}

.m-main-navigation-mobile__icon-next {
  right: $main-navigation-mobile__item-padding-right;

  transform: rotate(-90deg);
}

.m-main-navigation-mobile__icon-back {
  left: $main-navigation-mobile__item-padding-left;

  transform: rotate(90deg);
}
